#include "common.h"
#include "pcode.h"

enum { VARIABLE_ARGC = -1 };

static struct pcode pcode_info[] = {
   { PCD_NONE, 0 },
   { PCD_TERMINATE, 0 },
   { PCD_SUSPEND, 0 },
   { PCD_PUSHNUMBER, 1 },
   { PCD_LSPEC1, 1 },
   { PCD_LSPEC2, 1 },
   { PCD_LSPEC3, 1 },
   { PCD_LSPEC4, 1 },
   { PCD_LSPEC5, 1 },
   { PCD_LSPEC1DIRECT, 2 },
   { PCD_LSPEC2DIRECT, 3 },
   { PCD_LSPEC3DIRECT, 4 },
   { PCD_LSPEC4DIRECT, 5 },
   { PCD_LSPEC5DIRECT, 6 },
   { PCD_ADD, 0 },
   { PCD_SUBTRACT, 0 },
   { PCD_MULTIPLY, 0 },
   { PCD_DIVIDE, 0 },
   { PCD_MODULUS, 0 },
   { PCD_EQ, 0 },
   { PCD_NE, 0 },
   { PCD_LT, 0 },
   { PCD_GT, 0 },
   { PCD_LE, 0 },
   { PCD_GE, 0 },
   { PCD_ASSIGNSCRIPTVAR, 1 },
   { PCD_ASSIGNMAPVAR, 1 },
   { PCD_ASSIGNWORLDVAR, 1 },
   { PCD_PUSHSCRIPTVAR, 1 },
   { PCD_PUSHMAPVAR, 1 },
   { PCD_PUSHWORLDVAR, 1 },
   { PCD_ADDSCRIPTVAR, 1 },
   { PCD_ADDMAPVAR, 1 },
   { PCD_ADDWORLDVAR, 1 },
   { PCD_SUBSCRIPTVAR, 1 },
   { PCD_SUBMAPVAR, 1 },
   { PCD_SUBWORLDVAR, 1 },
   { PCD_MULSCRIPTVAR, 1 },
   { PCD_MULMAPVAR, 1 },
   { PCD_MULWORLDVAR, 1 },
   { PCD_DIVSCRIPTVAR, 1 },
   { PCD_DIVMAPVAR, 1 },
   { PCD_DIVWORLDVAR, 1 },
   { PCD_MODSCRIPTVAR, 1 },
   { PCD_MODMAPVAR, 1 },
   { PCD_MODWORLDVAR, 1 },
   { PCD_INCSCRIPTVAR, 1 },
   { PCD_INCMAPVAR, 1 },
   { PCD_INCWORLDVAR, 1 },
   { PCD_DECSCRIPTVAR, 1 },
   { PCD_DECMAPVAR, 1 },
   { PCD_DECWORLDVAR, 1 },
   { PCD_GOTO, 1 },
   { PCD_IFGOTO, 1 },
   { PCD_DROP, 0 },
   { PCD_DELAY, 0 },
   { PCD_DELAYDIRECT, 1 },
   { PCD_RANDOM, 0 },
   { PCD_RANDOMDIRECT, 2 },
   { PCD_THINGCOUNT, 0 },
   { PCD_THINGCOUNTDIRECT, 2 },
   { PCD_TAGWAIT, 0 },
   { PCD_TAGWAITDIRECT, 1 },
   { PCD_POLYWAIT, 0 },
   { PCD_POLYWAITDIRECT, 1 },
   { PCD_CHANGEFLOOR, 0 },
   { PCD_CHANGEFLOORDIRECT, 2 },
   { PCD_CHANGECEILING, 0 },
   { PCD_CHANGECEILINGDIRECT, 2 },
   { PCD_RESTART, 0 },
   { PCD_ANDLOGICAL, 0 },
   { PCD_ORLOGICAL, 0 },
   { PCD_ANDBITWISE, 0 },
   { PCD_ORBITWISE, 0 },
   { PCD_EORBITWISE, 0 },
   { PCD_NEGATELOGICAL, 0 },
   { PCD_LSHIFT, 0 },
   { PCD_RSHIFT, 0 },
   { PCD_UNARYMINUS, 0 },
   { PCD_IFNOTGOTO, 1 },
   { PCD_LINESIDE, 0 },
   { PCD_SCRIPTWAIT, 0 },
   { PCD_SCRIPTWAITDIRECT, 1 },
   { PCD_CLEARLINESPECIAL, 0 },
   { PCD_CASEGOTO, 2 },
   { PCD_BEGINPRINT, 0 },
   { PCD_ENDPRINT, 0 },
   { PCD_PRINTSTRING, 0 },
   { PCD_PRINTNUMBER, 0 },
   { PCD_PRINTCHARACTER, 0 },
   { PCD_PLAYERCOUNT, 0 },
   { PCD_GAMETYPE, 0 },
   { PCD_GAMESKILL, 0 },
   { PCD_TIMER, 0 },
   { PCD_SECTORSOUND, 0 },
   { PCD_AMBIENTSOUND, 0 },
   { PCD_SOUNDSEQUENCE, 0 },
   { PCD_SETLINETEXTURE, 0 },
   { PCD_SETLINEBLOCKING, 0 },
   { PCD_SETLINESPECIAL, 0 },
   { PCD_THINGSOUND, 0 },
   { PCD_ENDPRINTBOLD, 0 },
   { PCD_ACTIVATORSOUND, 0 },
   { PCD_LOCALAMBIENTSOUND, 0 },
   { PCD_SETLINEMONSTERBLOCKING, 0 },
   { PCD_PLAYERBLUESKULL, 0 },
   { PCD_PLAYERREDSKULL, 0 },
   { PCD_PLAYERYELLOWSKULL, 0 },
   { PCD_PLAYERMASTERSKULL, 0 },
   { PCD_PLAYERBLUECARD, 0 },
   { PCD_PLAYERREDCARD, 0 },
   { PCD_PLAYERYELLOWCARD, 0 },
   { PCD_PLAYERMASTERCARD, 0 },
   { PCD_PLAYERBLACKSKULL, 0 },
   { PCD_PLAYERSILVERSKULL, 0 },
   { PCD_PLAYERGOLDSKULL, 0 },
   { PCD_PLAYERBLACKCARD, 0 },
   { PCD_PLAYERSILVERCARD, 0 },
   { PCD_ISMULTIPLAYER, 0 },
   { PCD_PLAYERTEAM, 0 },
   { PCD_PLAYERHEALTH, 0 },
   { PCD_PLAYERARMORPOINTS, 0 },
   { PCD_PLAYERFRAGS, 0 },
   { PCD_PLAYEREXPERT, 0 },
   { PCD_BLUETEAMCOUNT, 0 },
   { PCD_REDTEAMCOUNT, 0 },
   { PCD_BLUETEAMSCORE, 0 },
   { PCD_REDTEAMSCORE, 0 },
   { PCD_ISONEFLAGCTF, 0 },
   { PCD_GETINVASIONWAVE, 0 },
   { PCD_GETINVASIONSTATE, 0 },
   { PCD_PRINTNAME, 0 },
   { PCD_MUSICCHANGE, 0 },
   { PCD_CONSOLECOMMANDDIRECT, 3 },
   { PCD_CONSOLECOMMAND, 0 },
   { PCD_SINGLEPLAYER, 0 },
   { PCD_FIXEDMUL, 0 },
   { PCD_FIXEDDIV, 0 },
   { PCD_SETGRAVITY, 0 },
   { PCD_SETGRAVITYDIRECT, 1 },
   { PCD_SETAIRCONTROL, 0 },
   { PCD_SETAIRCONTROLDIRECT, 1 },
   { PCD_CLEARINVENTORY, 0 },
   { PCD_GIVEINVENTORY, 0 },
   { PCD_GIVEINVENTORYDIRECT, 2 },
   { PCD_TAKEINVENTORY, 0 },
   { PCD_TAKEINVENTORYDIRECT, 2 },
   { PCD_CHECKINVENTORY, 0 },
   { PCD_CHECKINVENTORYDIRECT, 1 },
   { PCD_SPAWN, 0 },
   { PCD_SPAWNDIRECT, 6 },
   { PCD_SPAWNSPOT, 0 },
   { PCD_SPAWNSPOTDIRECT, 4 },
   { PCD_SETMUSIC, 0 },
   { PCD_SETMUSICDIRECT, 3 },
   { PCD_LOCALSETMUSIC, 0 },
   { PCD_LOCALSETMUSICDIRECT, 3 },
   { PCD_PRINTFIXED, 0 },
   { PCD_PRINTLOCALIZED, 0 },
   { PCD_MOREHUDMESSAGE, 0 },
   { PCD_OPTHUDMESSAGE, 0 },
   { PCD_ENDHUDMESSAGE, 0 },
   { PCD_ENDHUDMESSAGEBOLD, 0 },
   { PCD_SETSTYLE, 0 },
   { PCD_SETSTYLEDIRECT, 0 },
   { PCD_SETFONT, 0 },
   { PCD_SETFONTDIRECT, 1 },
   { PCD_PUSHBYTE, 1 },
   { PCD_LSPEC1DIRECTB, 2 },
   { PCD_LSPEC2DIRECTB, 3 },
   { PCD_LSPEC3DIRECTB, 4 },
   { PCD_LSPEC4DIRECTB, 5 },
   { PCD_LSPEC5DIRECTB, 6 },
   { PCD_DELAYDIRECTB, 1 },
   { PCD_RANDOMDIRECTB, 2 },
   { PCD_PUSHBYTES, VARIABLE_ARGC },
   { PCD_PUSH2BYTES, 2 },
   { PCD_PUSH3BYTES, 3 },
   { PCD_PUSH4BYTES, 4 },
   { PCD_PUSH5BYTES, 5 },
   { PCD_SETTHINGSPECIAL, 0 },
   { PCD_ASSIGNGLOBALVAR, 1 },
   { PCD_PUSHGLOBALVAR, 1 },
   { PCD_ADDGLOBALVAR, 1 },
   { PCD_SUBGLOBALVAR, 1 },
   { PCD_MULGLOBALVAR, 1 },
   { PCD_DIVGLOBALVAR, 1 },
   { PCD_MODGLOBALVAR, 1 },
   { PCD_INCGLOBALVAR, 1 },
   { PCD_DECGLOBALVAR, 1 },
   { PCD_FADETO, 0 },
   { PCD_FADERANGE, 0 },
   { PCD_CANCELFADE, 0 },
   { PCD_PLAYMOVIE, 0 },
   { PCD_SETFLOORTRIGGER, 0 },
   { PCD_SETCEILINGTRIGGER, 0 },
   { PCD_GETACTORX, 0 },
   { PCD_GETACTORY, 0 },
   { PCD_GETACTORZ, 0 },
   { PCD_STARTTRANSLATION, 0 },
   { PCD_TRANSLATIONRANGE1, 0 },
   { PCD_TRANSLATIONRANGE2, 0 },
   { PCD_ENDTRANSLATION, 0 },
   { PCD_CALL, 1 },
   { PCD_CALLDISCARD, 1 },
   { PCD_RETURNVOID, 0 },
   { PCD_RETURNVAL, 0 },
   { PCD_PUSHMAPARRAY, 1 },
   { PCD_ASSIGNMAPARRAY, 1 },
   { PCD_ADDMAPARRAY, 1 },
   { PCD_SUBMAPARRAY, 1 },
   { PCD_MULMAPARRAY, 1 },
   { PCD_DIVMAPARRAY, 1 },
   { PCD_MODMAPARRAY, 1 },
   { PCD_INCMAPARRAY, 1 },
   { PCD_DECMAPARRAY, 1 },
   { PCD_DUP, 0 },
   { PCD_SWAP, 0 },
   { PCD_WRITETOINI, 0 },
   { PCD_GETFROMINI, 0 },
   { PCD_SIN, 0 },
   { PCD_COS, 0 },
   { PCD_VECTORANGLE, 0 },
   { PCD_CHECKWEAPON, 0 },
   { PCD_SETWEAPON, 0 },
   { PCD_TAGSTRING, 0 },
   { PCD_PUSHWORLDARRAY, 1 },
   { PCD_ASSIGNWORLDARRAY, 1 },
   { PCD_ADDWORLDARRAY, 1 },
   { PCD_SUBWORLDARRAY, 1 },
   { PCD_MULWORLDARRAY, 1 },
   { PCD_DIVWORLDARRAY, 1 },
   { PCD_MODWORLDARRAY, 1 },
   { PCD_INCWORLDARRAY, 1 },
   { PCD_DECWORLDARRAY, 1 },
   { PCD_PUSHGLOBALARRAY, 1 },
   { PCD_ASSIGNGLOBALARRAY, 1 },
   { PCD_ADDGLOBALARRAY, 1 },
   { PCD_SUBGLOBALARRAY, 1 },
   { PCD_MULGLOBALARRAY, 1 },
   { PCD_DIVGLOBALARRAY, 1 },
   { PCD_MODGLOBALARRAY, 1 },
   { PCD_INCGLOBALARRAY, 1 },
   { PCD_DECGLOBALARRAY, 1 },
   { PCD_SETMARINEWEAPON, 0 },
   { PCD_SETACTORPROPERTY, 0 },
   { PCD_GETACTORPROPERTY, 0 },
   { PCD_PLAYERNUMBER, 0 },
   { PCD_ACTIVATORTID, 0 },
   { PCD_SETMARINESPRITE, 0 },
   { PCD_GETSCREENWIDTH, 0 },
   { PCD_GETSCREENHEIGHT, 0 },
   { PCD_THINGPROJECTILE2, 0 },
   { PCD_STRLEN, 0 },
   { PCD_SETHUDSIZE, 0 },
   { PCD_GETCVAR, 0 },
   { PCD_CASEGOTOSORTED, VARIABLE_ARGC },
   { PCD_SETRESULTVALUE, 0 },
   { PCD_GETLINEROWOFFSET, 0 },
   { PCD_GETACTORFLOORZ, 0 },
   { PCD_GETACTORANGLE, 0 },
   { PCD_GETSECTORFLOORZ, 0 },
   { PCD_GETSECTORCEILINGZ, 0 },
   { PCD_LSPEC5RESULT, 1 },
   { PCD_GETSIGILPIECES, 0 },
   { PCD_GETLEVELINFO, 0 },
   { PCD_CHANGESKY, 0 },
   { PCD_PLAYERINGAME, 0 },
   { PCD_PLAYERISBOT, 0 },
   { PCD_SETCAMERATOTEXTURE, 0 },
   { PCD_ENDLOG, 0 },
   { PCD_GETAMMOCAPACITY, 0 },
   { PCD_SETAMMOCAPACITY, 0 },
   { PCD_PRINTMAPCHARARRAY, 0 },
   { PCD_PRINTWORLDCHARARRAY, 0 },
   { PCD_PRINTGLOBALCHARARRAY, 0 },
   { PCD_SETACTORANGLE, 0 },
   { PCD_GRAPINPUT, 0 },
   { PCD_SETMOUSEPOINTER, 0 },
   { PCD_MOVEMOUSEPOINTER, 0 },
   { PCD_SPAWNPROJECTILE, 0 },
   { PCD_GETSECTORLIGHTLEVEL, 0 },
   { PCD_GETACTORCEILINGZ, 0 },
   { PCD_SETACTORPOSITION, 0 },
   { PCD_CLEARACTORINVENTORY, 0 },
   { PCD_GIVEACTORINVENTORY, 0 },
   { PCD_TAKEACTORINVENTORY, 0 },
   { PCD_CHECKACTORINVENTORY, 0 },
   { PCD_THINGCOUNTNAME, 0 },
   { PCD_SPAWNSPOTFACING, 0 },
   { PCD_PLAYERCLASS, 0 },
   { PCD_ANDSCRIPTVAR, 1 },
   { PCD_ANDMAPVAR, 1 },
   { PCD_ANDWORLDVAR, 1 },
   { PCD_ANDGLOBALVAR, 1 },
   { PCD_ANDMAPARRAY, 1 },
   { PCD_ANDWORLDARRAY, 1 },
   { PCD_ANDGLOBALARRAY, 1 },
   { PCD_EORSCRIPTVAR, 1 },
   { PCD_EORMAPVAR, 1 },
   { PCD_EORWORLDVAR, 1 },
   { PCD_EORGLOBALVAR, 1 },
   { PCD_EORMAPARRAY, 1 },
   { PCD_EORWORLDARRAY, 1 },
   { PCD_EORGLOBALARRAY, 1 },
   { PCD_ORSCRIPTVAR, 1 },
   { PCD_ORMAPVAR, 1 },
   { PCD_ORWORLDVAR, 1 },
   { PCD_ORGLOBALVAR, 1 },
   { PCD_ORMAPARRAY, 1 },
   { PCD_ORWORLDARRAY, 1 },
   { PCD_ORGLOBALARRAY, 1 },
   { PCD_LSSCRIPTVAR, 1 },
   { PCD_LSMAPVAR, 1 },
   { PCD_LSWORLDVAR, 1 },
   { PCD_LSGLOBALVAR, 1 },
   { PCD_LSMAPARRAY, 1 },
   { PCD_LSWORLDARRAY, 1 },
   { PCD_LSGLOBALARRAY, 1 },
   { PCD_RSSCRIPTVAR, 1 },
   { PCD_RSMAPVAR, 1 },
   { PCD_RSWORLDVAR, 1 },
   { PCD_RSGLOBALVAR, 1 },
   { PCD_RSMAPARRAY, 1 },
   { PCD_RSWORLDARRAY, 1 },
   { PCD_RSGLOBALARRAY, 1 },
   { PCD_GETPLAYERINFO, 0 },
   { PCD_CHANGELEVEL, 0 },
   { PCD_SECTORDAMAGE, 0 },
   { PCD_REPLACETEXTURES, 0 },
   { PCD_NEGATEBINARY, 0 },
   { PCD_GETACTORPITCH, 0 },
   { PCD_SETACTORPITCH, 0 },
   { PCD_PRINTBIND, 0 },
   { PCD_SETACTORSTATE, 0 },
   { PCD_THINGDAMAGE2, 0 },
   { PCD_USEINVENTORY, 0 },
   { PCD_USEACTORINVENTORY, 0 },
   { PCD_CHECKACTORCEILINGTEXTURE, 0 },
   { PCD_CHECKACTORFLOORTEXTURE, 0 },
   { PCD_GETACTORLIGHTLEVEL, 0 },
   { PCD_SETMUGSHOTSTATE, 0 },
   { PCD_THINGCOUNTSECTOR, 0 },
   { PCD_THINGCOUNTNAMESECTOR, 0 },
   { PCD_CHECKPLAYERCAMERA, 0 },
   { PCD_MORPHACTOR, 0 },
   { PCD_UNMORPHACTOR, 0 },
   { PCD_GETPLAYERINPUT, 0 },
   { PCD_CLASSIFYACTOR, 0 },
   { PCD_PRINTBINARY, 0 },
   { PCD_PRINTHEX, 0 },
   { PCD_CALLFUNC, 2 },
   { PCD_SAVESTRING, 0 },
   { PCD_PRINTMAPCHRANGE, 0 },
   { PCD_PRINTWORLDCHRANGE, 0 },
   { PCD_PRINTGLOBALCHRANGE, 0 },
   { PCD_STRCPYTOMAPCHRANGE, 0 },
   { PCD_STRCPYTOWORLDCHRANGE, 0 },
   { PCD_STRCPYTOGLOBALCHRANGE, 0 },
   { PCD_PUSHFUNCTION, 1 },
   { PCD_CALLSTACK, 0 },
   { PCD_SCRIPTWAITNAMED, 0 },
   { PCD_TRANSLATIONRANGE3, 0 },
   { PCD_GOTOSTACK, 0 },
   { PCD_ASSIGNSCRIPTARRAY, 1 },
   { PCD_PUSHSCRIPTARRAY, 1 },
   { PCD_ADDSCRIPTARRAY, 1 },
   { PCD_SUBSCRIPTARRAY, 1 },
   { PCD_MULSCRIPTARRAY, 1 },
   { PCD_DIVSCRIPTARRAY, 1 },
   { PCD_MODSCRIPTARRAY, 1 },
   { PCD_INCSCRIPTARRAY, 1 },
   { PCD_DECSCRIPTARRAY, 1 },
   { PCD_ANDSCRIPTARRAY, 1 },
   { PCD_EORSCRIPTARRAY, 1 },
   { PCD_ORSCRIPTARRAY, 1 },
   { PCD_LSSCRIPTARRAY, 1 },
   { PCD_RSSCRIPTARRAY, 1 },
   { PCD_PRINTSCRIPTCHARARRAY, 0 },
   { PCD_PRINTSCRIPTCHRANGE, 0 },
   { PCD_STRCPYTOSCRIPTCHRANGE, 0 },
};

struct pcode* c_get_pcode_info( int code ) {
   if ( code < ARRAY_SIZE( pcode_info ) ) {
      return ( pcode_info + code );
   }
   return NULL;
}
